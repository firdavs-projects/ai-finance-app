# üìã –û—Ç—á—ë—Ç: –ó–∞–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã KGS –Ω–∞ TJS

**–î–∞—Ç–∞**: 25 –¥–µ–∫–∞–±—Ä—è 2024  
**–ó–∞–¥–∞—á–∞**: –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å –∫–∏—Ä–≥–∏–∑—Å–∫–æ–≥–æ —Å–æ–º–∞ (KGS) –Ω–∞ —Ç–∞–¥–∂–∏–∫—Å–∫–∏–π —Å–æ–º–æ–Ω–∏ (TJS)  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–∞–ª—é—Ç

**–§–∞–π–ª**: `packages/shared/src/constants/index.ts`

**–ë—ã–ª–æ**:
```typescript
export const CURRENCIES = {
  KGS: { code: 'KGS', symbol: '—Å–æ–º', name: '–ö—ã—Ä–≥—ã–∑—Å–∫–∏–π —Å–æ–º' },
  // ...–¥—Ä—É–≥–∏–µ –≤–∞–ª—é—Ç—ã
  TJS: { code: 'TJS', symbol: '—Å–º–Ω', name: '–¢–∞–¥–∂–∏–∫—Å–∫–∏–π —Å–æ–º–æ–Ω–∏' },
}
export const DEFAULT_CURRENCY = 'KGS';
```

**–°—Ç–∞–ª–æ**:
```typescript
export const CURRENCIES = {
  TJS: { code: 'TJS', symbol: '—Å–º–Ω', name: '–¢–∞–¥–∂–∏–∫—Å–∫–∏–π —Å–æ–º–æ–Ω–∏' },
  RUB: { code: 'RUB', symbol: '‚ÇΩ', name: '–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å' },
  USD: { code: 'USD', symbol: '$', name: '–î–æ–ª–ª–∞—Ä –°–®–ê' },
  KZT: { code: 'KZT', symbol: '‚Ç∏', name: '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏–π —Ç–µ–Ω–≥–µ' },
}
export const DEFAULT_CURRENCY = 'TJS';
```

‚úÖ **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- TJS –ø–µ—Ä–µ–º–µ—â—ë–Ω –Ω–∞ –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ
- –£–¥–∞–ª—ë–Ω KGS –∏–∑ —Å–ø–∏—Å–∫–∞
- DEFAULT_CURRENCY –∏–∑–º–µ–Ω—ë–Ω —Å 'KGS' –Ω–∞ 'TJS'

---

### 2. Backend - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### TransactionsService
**–§–∞–π–ª**: `apps/backend/src/modules/transactions/transactions.service.ts`

**–ë—ã–ª–æ**: `currency: createTransactionDto.currency || 'KGS'`  
**–°—Ç–∞–ª–æ**: `currency: createTransactionDto.currency || 'TJS'`

#### CreateTransactionDto
**–§–∞–π–ª**: `apps/backend/src/modules/transactions/dto/create-transaction.dto.ts`

**–ë—ã–ª–æ**:
```typescript
@ApiProperty({ example: 'KGS', default: 'KGS' })
currency?: string = 'KGS';
```

**–°—Ç–∞–ª–æ**:
```typescript
@ApiProperty({ example: 'TJS', default: 'TJS' })
currency?: string = 'TJS';
```

---

### 3. Backend - –°—á–µ—Ç–∞ (Accounts)

#### AccountsService
**–§–∞–π–ª**: `apps/backend/src/modules/accounts/accounts.service.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ù–∞–ª–∏—á–Ω—ã–µ: `currency: 'TJS'` (–±—ã–ª–æ 'KGS')
- –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞: `currency: 'TJS'` (–±—ã–ª–æ 'KGS')
- –ú–µ—Ç–æ–¥ create: `currency: createAccountDto.currency || 'TJS'` (–±—ã–ª–æ 'KGS')

#### CreateAccountDto
**–§–∞–π–ª**: `apps/backend/src/modules/accounts/dto/create-account.dto.ts`

**–ë—ã–ª–æ**: `@ApiProperty({ example: 'KGS', default: 'KGS' })`  
**–°—Ç–∞–ª–æ**: `@ApiProperty({ example: 'TJS', default: 'TJS' })`

---

### 4. Backend - AI –º–æ–¥—É–ª—å

#### AI Controller
**–§–∞–π–ª**: `apps/backend/src/modules/ai/ai.controller.ts`

**–ë—ã–ª–æ**: `"–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–æ–º, —á–∏–∑–∫–µ–π–∫ 15—Å–æ–º"`  
**–°—Ç–∞–ª–æ**: `"–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–º–Ω, —á–∏–∑–∫–µ–π–∫ 15—Å–º–Ω"`

#### ParseExpenseDto
**–§–∞–π–ª**: `apps/backend/src/modules/ai/dto/parse-expense.dto.ts`

**–ë—ã–ª–æ**: `example: '–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–æ–º –∏ —á–∏–∑–∫–µ–π–∫ 15—Å–æ–º'`  
**–°—Ç–∞–ª–æ**: `example: '–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–º–Ω –∏ —á–∏–∑–∫–µ–π–∫ 15—Å–º–Ω'`

#### AI Service (–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç)
**–§–∞–π–ª**: `apps/backend/src/modules/ai/ai.service.ts`

**–ë—ã–ª–æ**:
```
"currency": "KGS",
...
–í–∞–ª—é—Ç—ã: —Å–æ–º/—Å–æ–º–æ–Ω–∏ = KGS, —Ä—É–±–ª—å = RUB, –¥–æ–ª–ª–∞—Ä = USD, —Ç–µ–Ω–≥–µ = KZT.
"—Å–º–Ω" = —Å–æ–º–æ–Ω–∏ = KGS.
```

**–°—Ç–∞–ª–æ**:
```
"currency": "TJS",
...
–í–∞–ª—é—Ç—ã: —Å–º–Ω/—Å–æ–º–æ–Ω–∏ = TJS, —Ä—É–±–ª—å = RUB, –¥–æ–ª–ª–∞—Ä = USD, —Ç–µ–Ω–≥–µ = KZT.
"—Å–æ–º" —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å TJS (—Å–æ–º–æ–Ω–∏).
```

**–¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ**:
```typescript
currency: t.currency || 'TJS'  // –±—ã–ª–æ 'KGS'
```

---

### 5. Frontend - AI Input

**–§–∞–π–ª**: `apps/frontend/src/widgets/ai-input/ui/AiInputWidget.tsx`

**–ë—ã–ª–æ**: `placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Ä–∞—Å—Ö–æ–¥... (–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–æ–º, —á–∏–∑–∫–µ–π–∫ 15—Å–æ–º)"`  
**–°—Ç–∞–ª–æ**: `placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Ä–∞—Å—Ö–æ–¥... (–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–º–Ω, —á–∏–∑–∫–µ–π–∫ 15—Å–º–Ω)"`

---

### 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –ö–æ—Ä–Ω–µ–≤–æ–π README.md
**–§–∞–π–ª**: `README.md`

**–ë—ã–ª–æ**:
```
–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–æ–º, —á–∏–∑–∫–µ–π–∫ 15—Å–æ–º
```

**–°—Ç–∞–ª–æ**:
```
–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–º–Ω, —á–∏–∑–∫–µ–π–∫ 15—Å–º–Ω
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `packages/shared/src/constants/index.ts` | –£–¥–∞–ª—ë–Ω KGS, TJS —Å—Ç–∞–ª –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º |
| `apps/backend/src/modules/transactions/transactions.service.ts` | KGS ‚Üí TJS (1 –º–µ—Å—Ç–æ) |
| `apps/backend/src/modules/transactions/dto/create-transaction.dto.ts` | KGS ‚Üí TJS (2 –º–µ—Å—Ç–∞) |
| `apps/backend/src/modules/accounts/accounts.service.ts` | KGS ‚Üí TJS (3 –º–µ—Å—Ç–∞) |
| `apps/backend/src/modules/accounts/dto/create-account.dto.ts` | KGS ‚Üí TJS (1 –º–µ—Å—Ç–æ) |
| `apps/backend/src/modules/ai/ai.controller.ts` | "—Å–æ–º" ‚Üí "—Å–º–Ω" (1 –º–µ—Å—Ç–æ) |
| `apps/backend/src/modules/ai/dto/parse-expense.dto.ts` | "—Å–æ–º" ‚Üí "—Å–º–Ω" (1 –º–µ—Å—Ç–æ) |
| `apps/backend/src/modules/ai/ai.service.ts` | KGS ‚Üí TJS + –æ–±–Ω–æ–≤–ª—ë–Ω –ø—Ä–æ–º–ø—Ç (3 –º–µ—Å—Ç–∞) |
| `apps/frontend/src/widgets/ai-input/ui/AiInputWidget.tsx` | "—Å–æ–º" ‚Üí "—Å–º–Ω" (1 –º–µ—Å—Ç–æ) |
| `README.md` | "—Å–æ–º" ‚Üí "—Å–º–Ω" (1 –º–µ—Å—Ç–æ) |

**–í—Å–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–æ**: 10 —Ñ–∞–π–ª–æ–≤  
**–í—Å–µ–≥–æ –∑–∞–º–µ–Ω**: 15+ –º–µ—Å—Ç

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –°–±–æ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞
```bash
$ cd apps/backend && yarn build
‚ú®  Done in 2.07s.
```
‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞, –æ—à–∏–±–æ–∫ –Ω–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
- ‚úÖ TransactionsService: –¢–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ AccountsService: –¢–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ AI Service: –¢–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ Shared constants: –≠–∫—Å–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–°—á–µ—Ç–∞** (—Ç–µ–ø–µ—Ä—å —Å TJS):
```typescript
{
  id: 'cash-default',
  name: '–ù–∞–ª–∏—á–Ω—ã–µ',
  currency: 'TJS',  // –±—ã–ª–æ 'KGS'
}
{
  id: 'card-default',
  name: '–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞',
  currency: 'TJS',  // –±—ã–ª–æ 'KGS'
}
```

### –ù–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
–í—Å–µ –Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Å –≤–∞–ª—é—Ç–æ–π **TJS**.

### AI —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
–¢–µ–ø–µ—Ä—å AI –ø–æ–Ω–∏–º–∞–µ—Ç:
- ‚úÖ "—Å–º–Ω" = TJS (—Å–æ–º–æ–Ω–∏)
- ‚úÖ "—Å–æ–º–æ–Ω–∏" = TJS
- ‚úÖ "—Å–æ–º" = TJS (—Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å —Å–æ–º–æ–Ω–∏)
- ‚úÖ "22—Å–º–Ω", "15—Å–º–Ω" –∏ —Ç.–¥.

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### AI Input (–Ω–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã)

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**:
```
–∞–º–µ—Ä–∏–∫–∞–Ω–æ 22—Å–º–Ω, —á–∏–∑–∫–µ–π–∫ 15—Å–º–Ω
–≤—ã–ø–∏–ª –∫–æ—Ñ–µ –∑–∞ 25 —Å–æ–º–æ–Ω–∏
—Ç–∞–∫—Å–∏ 50—Å–º–Ω
–∫—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã: –º–æ–ª–æ–∫–æ 8—Å–º–Ω, —Ö–ª–µ–± 2—Å–º–Ω
–∑–∞—Ä–ø–ª–∞—Ç–∞ 5000 —Å–æ–º–æ–Ω–∏
```

**–û—Ç–≤–µ—Ç AI**:
```json
{
  "success": true,
  "transactions": [
    {
      "type": "expense",
      "amount": 22,
      "currency": "TJS",
      "categoryId": "cafe",
      "description": "–∞–º–µ—Ä–∏–∫–∞–Ω–æ"
    },
    {
      "type": "expense",
      "amount": 15,
      "currency": "TJS",
      "categoryId": "cafe",
      "description": "—á–∏–∑–∫–µ–π–∫"
    }
  ]
}
```

### API –ü—Ä–∏–º–µ—Ä—ã

**POST /api/transactions**:
```json
{
  "type": "expense",
  "amount": 100,
  "currency": "TJS",
  "categoryId": "food",
  "accountId": "cash-default"
}
```

**POST /api/accounts**:
```json
{
  "name": "–û—Å–Ω–æ–≤–Ω–æ–π —Å—á—ë—Ç",
  "type": "bank",
  "currency": "TJS",
  "balance": 10000
}
```

---

## üìù –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å KGS
–ï—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –≤–∞–ª—é—Ç–æ–π KGS:
- ‚úÖ –û–Ω–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (–≤–∞–ª—é—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞–ø–∏—Å—è—Ö)
- ‚úÖ API –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±—É—é –≤–∞–ª—é—Ç—É (–Ω–µ —Ç–æ–ª—å–∫–æ TJS)
- ‚ö†Ô∏è –ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Å TJS –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
–ï—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å KGS, –º–æ–∂–Ω–æ:
1. –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (—Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞–ª—é—Ç)
2. –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∞–ª—é—Ç—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å—è—Ö

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:
- ‚úÖ –í—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è KGS –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ TJS
- ‚úÖ –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã "—Å–æ–º" –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ "—Å–º–Ω"/"—Å–æ–º–æ–Ω–∏"
- ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –≤–∞–ª—é—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ TJS
- ‚úÖ AI –ø—Ä–æ–º–ø—Ç –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–¥–∂–∏–∫—Å–∫–∏–º —Å–æ–º–æ–Ω–∏
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –¢–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å:
- üáπüáØ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–¥–∂–∏–∫—Å–∫–∏–π —Å–æ–º–æ–Ω–∏ (TJS) –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –≤–∞–ª—é—Ç—É
- üí¨ –ü–æ–Ω–∏–º–∞–µ—Ç "—Å–º–Ω", "—Å–æ–º–æ–Ω–∏", "—Å–æ–º" –∫–∞–∫ TJS
- üì± –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã —Å TJS –≤–æ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
- ü§ñ AI –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É —Å TJS

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–¥–∂–∏–∫—Å–∫–æ–≥–æ —Å–æ–º–æ–Ω–∏ (TJS).

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**:
- ‚úÖ Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –¢–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ AI –ø—Ä–æ–º–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ**: AI Assistant  
**–î–∞—Ç–∞**: 25 –¥–µ–∫–∞–±—Ä—è 2024  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~5 –º–∏–Ω—É—Ç

